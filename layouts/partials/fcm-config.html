<script>
// Firebase configuration for push notifications
// This configuration is injected from GitHub Secrets in production

// Firebase configuration (injected from GitHub Secrets)
const firebaseConfig = {
  apiKey: "{{ getenv "FIREBASE_API_KEY" | default "demo-api-key" }}",
  authDomain: "{{ getenv "FIREBASE_AUTH_DOMAIN" | default "demo-project.firebaseapp.com" }}",
  projectId: "{{ getenv "FIREBASE_PROJECT_ID" | default "demo-project" }}",
  storageBucket: "{{ getenv "FIREBASE_STORAGE_BUCKET" | default "demo-project.appspot.com" }}",
  messagingSenderId: "{{ getenv "FIREBASE_MESSAGING_SENDER_ID" | default "123456789" }}",
  appId: "{{ getenv "FIREBASE_APP_ID" | default "1:123456789:web:abcdef" }}"
};

// VAPID key for FCM
const fcmVapidKey = "{{ getenv "FCM_VAPID_KEY" | default "" }}";

// Global configuration for FCM
window.FCM_CONFIG = {
  firebase: firebaseConfig,
  vapidKey: fcmVapidKey,
  environment: "{{ hugo.Environment }}",
  buildTime: {{ now.Unix }},
  hasKeys: {{ if getenv "FIREBASE_API_KEY" }}true{{ else }}false{{ end }}
};

console.log('üî• Firebase Config loaded:', window.FCM_CONFIG.environment);
{{ if not (getenv "FIREBASE_API_KEY") -}}
console.warn('‚ö†Ô∏è Firebase configuration not found. Using demo values for development.');
console.log('üìã To configure FCM, follow instructions in FCM-SETUP.md');
{{ else -}}
console.log('‚úÖ Firebase configuration loaded from environment variables');
{{ end -}}
</script>

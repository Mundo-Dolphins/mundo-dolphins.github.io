{{/* 
Shortcode para inyectar configuraci√≥n PWA de forma segura desde GitHub Secrets
*/}}
{{- $vapidKey := getenv "VAPID_PUBLIC_KEY" -}}
<script>
window.PWA_SECURE_CONFIG = window.PWA_SECURE_CONFIG || {};
window.PWA_SECURE_CONFIG.environment = "{{ hugo.Environment }}";
window.PWA_SECURE_CONFIG.buildTime = {{ now.Unix }};
{{ if $vapidKey -}}
window.PWA_SECURE_CONFIG.vapidKey = "{{ $vapidKey }}";
window.PWA_SECURE_CONFIG.hasVapidFromEnv = true;
console.log('üîê VAPID key cargada desde variable de entorno de forma segura');
{{ else -}}
window.PWA_SECURE_CONFIG.hasVapidFromEnv = false;
console.log('üîß Modo desarrollo - VAPID key se cargar√° din√°micamente');
{{ end -}}
</script>
